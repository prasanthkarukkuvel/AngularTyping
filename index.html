<html !>
<head>
	<title>Angular Typing</title>
</head>
<body>
	<div ng-app="angular-typing">
		<input  id="id" typing type="text"></input>
	</div>

	<script type="text/javascript" src="angular.min.js"></script>
	<script type="text/javascript">
		angular.module('angular-typing', []).directive("typing",[function(){
			return{
				link:function(scope, elem, args) {
					var input = elem[0], typing = false, timeout;
					function started(event) {
						if(!typing)
						{
							typing = true;
							console.log("Typing started");
						}						
					}
					function stopped(event, delay) {
						if(typing){
							clearTimeout(timeout);
							timeout = setTimeout(function(){
								typing = false;
								console.log("Typing ended");
							}, 1000);
						}
					}
					input.addEventListener("keypress", started);
					input.addEventListener("keyup", stopped);
					input.addEventListener("keydown", function(event){
						if (event.keyCode === 8 || event.keyCode === 46) {
							started(event);
						}
					});
					input.addEventListener("blur", function(event){
						stopped(event,0);
					});
					
				}
			};
		}]);
	</script>
</body>
</html>